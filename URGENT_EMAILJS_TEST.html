<!DOCTYPE html>
<html>
<head>
    <title>üö® EMAILJS URGENT TEST</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            emailjs.init({
                publicKey: "9SDzOfKjxuULQ5ZW8",
            });
        })();
    </script>
    <style>
        body { font-family: Arial; padding: 20px; background: #f0f0f0; }
        .urgent { background: #ff4444; color: white; padding: 20px; border-radius: 10px; margin: 20px 0; }
        .test-box { background: white; padding: 20px; border-radius: 10px; margin: 20px 0; border: 2px solid #ccc; }
        button { padding: 15px 30px; font-size: 18px; background: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; margin: 10px; }
        .result { padding: 15px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <div class="urgent">
        <h1>üö® EMAILJS URGENT FIX TEST</h1>
        <p>Error: "recipients address is empty" - Testing semua kombinasi field!</p>
    </div>

    <div class="test-box">
        <h2>Test 1: Field "email" (paling umum)</h2>
        <button onclick="testWithEmail()">TEST: email field</button>
        <div id="result1"></div>
    </div>

    <div class="test-box">
        <h2>Test 2: Field "to_email"</h2>
        <button onclick="testWithToEmail()">TEST: to_email field</button>
        <div id="result2"></div>
    </div>

    <div class="test-box">
        <h2>Test 3: ALL POSSIBLE FIELDS</h2>
        <button onclick="testWithAllFields()">TEST: ALL EMAIL FIELDS</button>
        <div id="result3"></div>
    </div>

    <script>
        const testEmail = "figojen3@gmail.com"; // Your email
        const testLink = "https://gofotobox.online/test";

        function showResult(id, message, isSuccess) {
            const div = document.getElementById(id);
            div.className = 'result ' + (isSuccess ? 'success' : 'error');
            div.innerHTML = message;
        }

        function testWithEmail() {
            showResult('result1', '‚è≥ Testing with "email" field...', true);
            
            emailjs.send("service_gtqjb2j", "template_pp5i4hm", {
                email: testEmail,
                link: testLink,
                user_name: "Test User"
            }).then(() => {
                showResult('result1', '‚úÖ SUCCESS! "email" field works!', true);
            }, (error) => {
                showResult('result1', '‚ùå FAILED: ' + error.text + ' (Status: ' + error.status + ')', false);
            });
        }

        function testWithToEmail() {
            showResult('result2', '‚è≥ Testing with "to_email" field...', true);
            
            emailjs.send("service_gtqjb2j", "template_pp5i4hm", {
                to_email: testEmail,
                link: testLink,
                user_name: "Test User"
            }).then(() => {
                showResult('result2', '‚úÖ SUCCESS! "to_email" field works!', true);
            }, (error) => {
                showResult('result2', '‚ùå FAILED: ' + error.text + ' (Status: ' + error.status + ')', false);
            });
        }

        function testWithAllFields() {
            showResult('result3', '‚è≥ Testing with ALL possible fields...', true);
            
            emailjs.send("service_gtqjb2j", "template_pp5i4hm", {
                // All possible email field names
                email: testEmail,
                to_email: testEmail,
                recipient_email: testEmail,
                user_email: testEmail,
                target_email: testEmail,
                
                // All possible link field names
                link: testLink,
                photo_link: testLink,
                url: testLink,
                
                // All possible name fields
                name: "Test User",
                user_name: "Test User",
                to_name: "Test User",
                recipient_name: "Test User",
                
                // Additional fields
                from_name: "GOFOTOBOX",
                subject: "Test Email",
                message: "This is a test email with link: " + testLink
            }).then(() => {
                showResult('result3', '‚úÖ SUCCESS! One of the fields worked!', true);
            }, (error) => {
                showResult('result3', '‚ùå FAILED: ' + error.text + ' (Status: ' + error.status + ')', false);
            });
        }
    </script>
</body>
</html>
