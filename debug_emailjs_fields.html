<!DOCTYPE html>
<html>
<head>
    <title>EmailJS Template Field Test</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            emailjs.init({
                publicKey: "9SDzOfKjxuULQ5ZW8",
            });
        })();
    </script>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-item { margin: 20px 0; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        button { padding: 10px 20px; margin: 5px; }
        .result { margin-top: 10px; padding: 10px; border-radius: 3px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>EmailJS Template Field Test</h1>
    <p>Testing different field combinations to find the correct variable names for your EmailJS template.</p>
    
    <div class="test-item">
        <h3>Test 1: Standard Fields</h3>
        <button onclick="testEmailFields1()">Test: to_email, link, user_name</button>
        <div id="result1" class="result" style="display:none;"></div>
    </div>
    
    <div class="test-item">
        <h3>Test 2: Alternative Fields</h3>
        <button onclick="testEmailFields2()">Test: email, photo_link, name</button>
        <div id="result2" class="result" style="display:none;"></div>
    </div>
    
    <div class="test-item">
        <h3>Test 3: Common Fields</h3>
        <button onclick="testEmailFields3()">Test: recipient_email, link</button>
        <div id="result3" class="result" style="display:none;"></div>
    </div>
    
    <div class="test-item">
        <h3>Test 4: Template Inspection</h3>
        <p>Check your EmailJS template and look for variables like:</p>
        <ul>
            <li><code>{{to_email}}</code> or <code>{{email}}</code></li>
            <li><code>{{link}}</code> or <code>{{photo_link}}</code></li>
            <li><code>{{user_name}}</code> or <code>{{name}}</code></li>
        </ul>
    </div>

    <script>
        const testEmail = "andreasjeno23@gmail.com";
        const testLink = "http://localhost/src/pages/yourphotos.php?token=test123";
        
        function testEmailFields1() {
            const result = document.getElementById('result1');
            result.style.display = 'block';
            result.innerHTML = 'Testing...';
            
            emailjs.send("service_gtqjb2j", "template_pp5i4hm", {
                to_email: testEmail,
                link: testLink,
                user_name: "Test User"
            }).then(() => {
                result.className = 'result success';
                result.innerHTML = '✅ SUCCESS: to_email, link, user_name fields work!';
            }, (error) => {
                result.className = 'result error';
                result.innerHTML = '❌ FAILED: ' + error.text + ' (Status: ' + error.status + ')';
            });
        }
        
        function testEmailFields2() {
            const result = document.getElementById('result2');
            result.style.display = 'block';
            result.innerHTML = 'Testing...';
            
            emailjs.send("service_gtqjb2j", "template_pp5i4hm", {
                email: testEmail,
                photo_link: testLink,
                name: "Test User"
            }).then(() => {
                result.className = 'result success';
                result.innerHTML = '✅ SUCCESS: email, photo_link, name fields work!';
            }, (error) => {
                result.className = 'result error';
                result.innerHTML = '❌ FAILED: ' + error.text + ' (Status: ' + error.status + ')';
            });
        }
        
        function testEmailFields3() {
            const result = document.getElementById('result3');
            result.style.display = 'block';
            result.innerHTML = 'Testing...';
            
            emailjs.send("service_gtqjb2j", "template_pp5i4hm", {
                recipient_email: testEmail,
                link: testLink
            }).then(() => {
                result.className = 'result success';
                result.innerHTML = '✅ SUCCESS: recipient_email, link fields work!';
            }, (error) => {
                result.className = 'result error';
                result.innerHTML = '❌ FAILED: ' + error.text + ' (Status: ' + error.status + ')';
            });
        }
    </script>
</body>
</html>
