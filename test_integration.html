<!DOCTYPE html>
<html>

<head>
    <title>Database Integration Test</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <h1>Testing Database Integration</h1>

    <h2>1. API Endpoints Test</h2>
    <div id="api-test-results"></div>

    <h2>2. CustomizeLayout Integration Test</h2>
    <div id="layout-test-results"></div>

    <script>
        async function testAPIs() {
            const results = document.getElementById('api-test-results');

            try {
                // Test frames API
                const framesResponse = await fetch('/src/api-fetch/get-frames.php');
                const framesData = await framesResponse.json();
                results.innerHTML += `<p>✅ Frames API: ${framesData.success ? 'SUCCESS' : 'FAILED'} - ${framesData.data.length} frames loaded</p>`;

                // Test stickers API  
                const stickersResponse = await fetch('/src/api-fetch/get-stickers.php');
                const stickersData = await stickersResponse.json();
                results.innerHTML += `<p>✅ Stickers API: ${stickersData.success ? 'SUCCESS' : 'FAILED'} - ${stickersData.data.length} stickers loaded</p>`;

            } catch (error) {
                results.innerHTML += `<p>❌ API Test Failed: ${error.message}</p>`;
            }
        }

        async function testLayouts() {
            const results = document.getElementById('layout-test-results');

            // Test if layout files exist and can be loaded
            for (let i = 1; i <= 6; i++) {
                try {
                    const response = await fetch(`/src/pages/customizeLayout${i}.php`);
                    if (response.ok) {
                        results.innerHTML += `<p>✅ CustomizeLayout${i}: ACCESSIBLE</p>`;
                    } else {
                        results.innerHTML += `<p>❌ CustomizeLayout${i}: ERROR ${response.status}</p>`;
                    }
                } catch (error) {
                    results.innerHTML += `<p>❌ CustomizeLayout${i}: FAILED - ${error.message}</p>`;
                }
            }
        }

        // Run tests on page load
        document.addEventListener('DOMContentLoaded', function () {
            testAPIs();
            testLayouts();
        });
    </script>
</body>

</html>